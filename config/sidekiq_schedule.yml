# Schedule for sidekiq-cron; see
# https://github.com/ondrejbartas/sidekiq-cron
# https://buildtoship.com/schedule-recurring-jobs-with-sidekiq-4/

# cron notation: http://www.nncron.ru/help/EN/working/cron-format.htm
# * * * * * *
# | | | | | |
# | | | | | +-- Year              (range: 1900-3000)
# | | | | +---- Day of the Week   (range: 1-7, 1 standing for Monday)
# | | | +------ Month of the Year (range: 1-12)
# | | +-------- Day of the Month  (range: 1-31)
# | +---------- Hour              (range: 0-23)
# +------------ Minute            (range: 0-59)


# The `args: "xxx"` argument below is an argument to
# DPN::Workers::SyncWorker#perform(class_name), which calls
# DPN::Workers::Nodes#sync(class_name).  To add a new
# sync process:
# 1. Subclass DPN::Workers::Sync and implement #sync
# 2. Create an entry for it below
# 3. Create a rake task for it in lib/tasks/dpn_sync.rake

# SyncBags every 30 mins
sync_bags:
  cron: "*/30 * * * * *"
  class: "DPN::Workers::SyncWorker"
  args: "DPN::Workers::SyncBags"

# SyncReplications every day at 5am
sync_replications:
  cron: "0 5 * * * *"
  class: "DPN::Workers::SyncWorker"
  args: "DPN::Workers::SyncReplications"

# SyncMembers every day at 2am
sync_members:
  cron: "0 2 * * * *"
  class: "DPN::Workers::SyncWorker"
  args: "DPN::Workers::SyncMembers"

# SyncNodes every day at 1am
sync_nodes:
  cron: "0 1 * * * *"
  class: "DPN::Workers::SyncWorker"
  args: "DPN::Workers::SyncNodes"

# example_job:
#   cron: "*/30 * * * *"
#   class: "HardWorker"
#   queue: hard_worker_long
#   args:
#     hard: "stuff"
